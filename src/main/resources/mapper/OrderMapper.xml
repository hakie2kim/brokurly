<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.brokurly.repository.OrderDao">
    <!-- CREATE -->
    <insert id="insert">
        INSERT INTO orders
            (order_id, seller_id, cust_id, order_stat, order_dt, total_item_qty, total_price,
             total_dc_amt, order_amt, ship_fee, order_addr, ship_no)
        VALUES
            (#{orderId}, #{sellerId}, #{custId}, #{orderStat}, #{orderDt}, #{totalItemQty},
             #{totalPrice}, #{totalDcAmt}, #{orderAmt}, #{shipFee}, #{orderAddr}, #{shipNo})
    </insert>

    <!-- READ -->
    <sql id="select">
        SELECT * FROM orders
    </sql>

    <select id="selectByCustId" resultType="Order">
        <include refid="select"/>
        WHERE cust_id = #{custId}
    </select>

    <select id="selectByCustIdWithJoin" resultType="OrderAndPayment">
        <include refid="select"/>
        JOIN payment
            ON payment.order_id = orders.order_id
        WHERE cust_id = #{custId}
    </select>

    <select id="selectByOrderId" resultType="Order">
        <include refid="select"/>
        WHERE order_id = #{orderId}
    </select>

    <!-- UPDATE -->

    <!-- DELETE -->

</mapper>